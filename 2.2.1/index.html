<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h2>Client Library for Nuxeo API</h2><p><a href="https://qa.nuxeo.org/jenkins/job/Client/job/nuxeo-js-client-master"><img src="https://qa.nuxeo.org/jenkins/buildStatus/icon?job=/Client/nuxeo-js-client-master/&amp;style=flat" alt="Build Status"></a><br><a href="https://www.npmjs.com/package/nuxeo"><img src="https://img.shields.io/npm/v/nuxeo.svg?style=flat-square" alt="npm version"></a><br><a href="https://www.npmjs.com/package/nuxeo"><img src="https://img.shields.io/npm/dm/nuxeo.svg?style=flat-square" alt="npm downloads"></a><br><a href="https://david-dm.org/nuxeo/nuxeo-js-client"><img src="https://img.shields.io/david/nuxeo/nuxeo-js-client.svg?style=flat-square" alt="Dependency Status"></a> <a href="https://david-dm.org/nuxeo/nuxeo-js-client#info=devDependencies"><img src="https://img.shields.io/david/dev/nuxeo/nuxeo-js-client.svg?style=flat-square" alt="devDependency Status"></a></p>
<p>The Nuxeo JavaScript Client is a JavaScript client library for the Nuxeo Automation and REST API. The library can work in a browser, or in Node.js, using the same API.</p>
<p>This is an on-going project, supported by Nuxeo.</p>
<h2>Getting Started</h2><h3>Nuxeo Platform - JS Client Dependencies</h3><table>
<thead>
<tr>
<th>Nuxeo Platform</th>
<th>JS Client</th>
</tr>
</thead>
<tbody>
<tr>
<td>LTS 2015</td>
<td>&gt;= 1.x.x</td>
</tr>
<tr>
<td>FT 8.x</td>
<td>&gt;= 2.x.x</td>
</tr>
</tbody>
</table>
<h3>Installation</h3><h4>Node.js Applications</h4><p>After installing <a href="http://nodejs.org/#download">Node.js</a>, use <code>npm</code> to install the <code>nuxeo</code> package:</p>
<ul>
<li><p>For the latest 2.x.x version:</p>
<pre class="prettyprint source"><code>  $ npm install nuxeo@2 --save</code></pre></li>
<li><p>For the latest 1.x.x version:</p>
<pre class="prettyprint source"><code>  $ npm install nuxeo@1 --save</code></pre></li>
</ul>
<p>Then, use the following <code>require</code> statement to have access to the same API than the browser client:</p>
<pre class="prettyprint source lang-javascript"><code>var Nuxeo = require('nuxeo');
var nuxeo = new Nuxeo({ ... });</code></pre><h4>Bower Powered Applications</h4><p>The <code>nuxeo</code> client can be also installed through bower:</p>
<ul>
<li><p>For the latest 2.x.x version:</p>
<pre class="prettyprint source"><code>  $ bower install nuxeo@2 --save</code></pre></li>
<li><p>For the latest 1.x.x version:</p>
<pre class="prettyprint source"><code>  $ bower install nuxeo@1 --save</code></pre></li>
</ul>
<p>When added to your page, <code>Nuxeo</code> is available as a global variable.</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({ ... });</code></pre><h4>Angular Applications</h4><p>After adding <code>nuxeo</code> through Bower, you can easily create a service that will return a client:</p>
<pre class="prettyprint source lang-javascript"><code>...
.service('nuxeo', function() {
  return new Nuxeo({
    baseURL: 'http://localhost:8080/nuxeo/',
    auth: {
      method: 'basic',
      username: 'Administrator',
      password: 'Administrator'
    }
  });
})
...</code></pre><p>To notify Angular to update the UI when a Nuxeo promise has resolved, you can either wrap Nuxeo promises in <code>$q.when()</code><br>or, the preferred way, configure the Promise library class to be <code>$q</code>.</p>
<pre class="prettyprint source lang-javascript"><code>// wrap promises
...
$q.when(nuxeo.request('/path/').get()).then(function(res) {
  $scope.res = res;
});
// use $q as the Promise library class
...
.service('nuxeo', function($q) {
  Nuxeo.promiseLibrary($q);
  return new Nuxeo({
    baseURL: 'http://localhost:8080/nuxeo/',
    auth: {
      method: 'basic',
      username: 'Administrator',
      password: 'Administrator'
    }
  });
})
...</code></pre><h4>React Applications</h4><p>After adding <code>nuxeo</code> through <code>npm</code> to your application, you must require <code>nuxeo</code> as follows:</p>
<pre class="prettyprint source lang-javascript"><code>var Nuxeo = require('nuxeo/dist/nuxeo');</code></pre><h2>Documentation</h2><p>Check out the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/">API documentation</a>.</p>
<h2>Requirements</h2><p>The Nuxeo JavaScript client works only with Nuxeo Platform &gt;= LTS 2015.</p>
<h2>Quick Start</h2><p>This quick start guide will show how to do basics operations using the client.</p>
<h3>Creating a Client</h3><pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: 'basic',
    username: 'Administrator',
    password: 'Administrator'
  },
});</code></pre><p>To connect to a different Nuxeo Platform Instance, you can use the following:</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  baseURL: 'http://demo.nuxeo.com/nuxeo/',
  auth: {
    method: 'basic',
    username: 'Administrator',
    password: 'Administrator'
  },
});</code></pre><h3>Promise Based Calls</h3><p>All API calls made on the server return a Promise object.</p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.operation('Document.GetChildren')
  .input('/')
  .execute()
  .then(function(docs) {
    // work with docs
  })
  .catch(function(error) {
    // something went wrong
    throw error;
  });</code></pre><p>When something went wrong, the <code>error</code> is an <code>Error</code> object with a <code>response</code> field containing the whole response.</p>
<h3>Operation</h3><p><code>Operation</code> object allows you to execute an operation<br>(or operation chain).</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Operation.html">Operation</a> documentation.</p>
<h4>Samples</h4><p><strong>Call an operation to create a new folder in the Root document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.operation('Document.Create')
  .params({
    type: 'Folder',
    name: 'My Folder',
    properties: 'dc:title=My Folder \ndc:description=A Simple Folder'
  })
  .input('/')
  .execute()
  .then(function(doc) {
      console.log('Created ' + doc.title + ' folder');
  })
  .catch(function(error) {
    throw error;
  });</code></pre><h3>Request</h3><p>The <code>Request</code> object allows you to call the Nuxeo REST API.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Request.html">Request</a> documentation.</p>
<h4>Samples</h4><p><strong>Fetch the Administrator user</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.request('user/Administrator')
  .get()
  .then(function(user) {
    console.log(user);
  })
  .catch(function(error) {
    throw error;
  });</code></pre><p><strong>Fetch the whole list of Natures</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.request('directory/nature')
  .get()
  .then(function(data) {
    console.log(JSON.stringify(data.entries, null, 2))
  })
  .catch(function(error) {
    throw error
  });</code></pre><h3>Repository</h3><p>The <code>Repository</code> object allows you to work with document.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Repository.html">Repository</a> documentation.</p>
<h4>Samples</h4><p><strong>Create a <code>Repository</code> object</strong></p>
<pre class="prettyprint source lang-javascript"><code>var defaultRepository = nuxeo.repository(); // 'default' repository
...
var testRepository = nuxeo.repository('test'); // 'test' repository
...</code></pre><p><strong>Fetch the Root document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository().fetch('/')
  .then(function(doc) {
    console.log(doc);
  })
  .catch(function(error) {
    throw error;
  });</code></pre><p><strong>Create a new folder</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newFolder = {
  'entity-type': 'document',
  name: 'a-folder',
  type: 'Folder',
  properties: {
    'dc:title': 'foo',
  },
};
nuxeo.repository()
  .create('/', newFolder)
  .then(function(doc) {
    console.log(doc);
  })
  .catch(function(error) {
    throw error;
  });</code></pre><p><strong>Delete a document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository()
  .delete('/a-folder')
  .then(function(res) {
    // res.status === 204
  });</code></pre><h3>Document</h3><p><code>Repository</code> object returns and works with <code>Document</code> objects. <code>Document</code> objects exposes a simpler API<br>to work with a document.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Document.html">Document</a> documentation.</p>
<h4>Samples</h4><p><strong>Retrieve a <code>Document</code> object</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository()
  .fetch('/')
  .then(function(doc) {
    // doc instanceof Nuxeo.Document === true
  })
  .catch(function(error) {
    throw error;
  });</code></pre><p><strong>Set a document property</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.set({ 'dc:title': 'foo' });</code></pre><p><strong>Get a document property</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.get('dc:title');</code></pre><p><strong>Save an updated document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository()
  .fetch('/')
  .then(function(doc) {
    // doc.title !== 'foo'
    doc.set({ 'dc:title': 'foo' });
    return doc.save();
  })
  .then(function(doc) {
    // doc.title === 'foo'
  })
  .catch(function(error) {
    throw error;
  });</code></pre><p><strong>Fetch the main Blob of a document</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.fetchBlob()
  .then(function(res) {
    // in the browser, use res.blob() to work with the converted PDF
    // in Node.js, use res.body
  });</code></pre><p><strong>Convert a document main Blob to PDF</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.convert({ format: 'pdf' })
  .then(function(res) {
    // in the browser, use res.blob() to work with the converted PDF
    // in Node.js, use res.body
  });</code></pre><p><strong>Fetch the 'thumbnail' rendition</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.fetchRendition('thumbnail')
  .then(function(res) {
    // in the browser, use res.blob() to work with the rendition
    // in Node.js, use res.body
  });</code></pre><p><strong>Start a workflow</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.startWorkflow('SerialDocumentReview')
  .then(function(workflow) {
    // workflow instance of Nuxeo.Workflow
  });</code></pre><p><strong>Complete a workflow task</strong></p>
<pre class="prettyprint source lang-javascript"><code>workflow.fetchTasks()
  .then(function(tasks) {
    return tasks[0];
  })
  .then(function(tasks) {
    task.variable('participants', ['user:Administrator'])
      .variable('assignees', ['user:Administrator'])
      .variable('end_date', '2011-10-23T12:00:00.00Z');
    return task.complete('start_review', { comment: 'a comment' });
  })
  .then(function(task) {
    // task.state === 'ended'
  })</code></pre><h3>BatchUpload</h3><p>The <code>BatchUpload</code> object allows you to upload blobs to a Nuxeo Platform instance, and use them as operation input or<br>as document property value.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/BatchUpload.html">BatchUpload</a> documentation.</p>
<h4>Samples</h4><p><strong>Create a Nuxeo.Blob to be uploaded</strong></p>
<pre class="prettyprint source lang-javascript"><code>// on the browser, assuming you have a File object 'file'
var blob = new Nuxeo.Blob({ content: file });
// the name, mimeType and size will be extracted from the file object itself, you can still override them.
...
// on Node.js, assuming you have a Stream 'file'
var blob = new Nuxeo.Blob({ content: file, name: 'foo.txt', mimeType: 'plain/text', size: 10 })</code></pre><p><strong>Upload a blob</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.batchUpload()
  .upload(blob)
  .then(function(res) {
    // res.blob instanceof Nuxeo.BatchBlob
    console.log(res.blob);
  })
  .catch(function(error) {
    throw error;
  });</code></pre><p><strong>Attach an uploaded blob to a document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.batchUpload()
  .upload(blob)
  .then(function(res) {
    return nuxeo.operation('Blob.AttachOnDocument')
      .param('document', '/a-file')
      .input(res.blob)
      .execute({ schemas: ['dublincore', 'file']});
  })
  .then(function(doc) {
    console.log(doc.properties[file:content]);
  })
  .catch(function(error) {
    throw error;
  });</code></pre><h3>Users</h3><p>The <code>Users</code> object allows you to work with users.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Users.html">Users</a> and<br><a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/User.html">User</a> documentation.</p>
<h4>Samples</h4><p><strong>Fetch an user</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.users()
  .fetch('Administrator')
  .then(function(user) {
    // user.id === 'Administrator'
  });</code></pre><p><strong>Create a new user</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newUser = {
  properties: {
    username: 'leela',
    firstName: 'Leela',
    company: 'Futurama',
    email: 'leela@futurama.com',
  },
};
nuxeo.users()
  .create(newUser)
  .then(function(user) {
    // user.id === 'leela'
  });</code></pre><p><strong>Delete an user</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.users()
  .delete('leela').then(function(res) {
    // res.status === 204
  });</code></pre><h3>Groups</h3><p>The <code>Groups</code> object allows you to work with groups.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Groups.html">Groups</a> and<br><a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Group.html">Group</a> documentation.</p>
<h4>Samples</h4><p><strong>Fetch a group</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.groups().fetch('administrators')
  .then(function(group) {
    // group.groupname === 'administrators'
  });</code></pre><p><strong>Create a new group</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newGroup = {
  groupname: 'foo',
  grouplabel: 'Foo',
};
nuxeo.groups()
  .create(newGroup)
  .then(function(group) {
    // group.groupname === 'foo';
  });</code></pre><p><strong>Delete a group</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.groups()
  .delete('foo').then(function(res) {
    // res.status === 204
  });</code></pre><h3>Directory</h3><p>The <code>Directory</code> object allows you to work with directories.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/Directory.html">Directory</a> and<br><a href="https://nuxeo.github.io/nuxeo-js-client/2.2.1/DirectoryEntry.html">DirectoryEntry</a> documentation.</p>
<h4>Samples</h4><p><strong>Fetch all entries of a directory</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.directory('nature')
  .fetchAll()
  .then(function(entries) {
    // entries instance of Array
  });</code></pre><p><strong>Fetch a given directory entry</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.directory('nature')
  .fetch('article')
  .then(function(entry) {
    // entry.directoryName === 'nature'
    // entry.properties.id === 'article'
  });</code></pre><p><strong>Create a new directory entry</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newEntry = {
  properties: {
    id: 'foo',
    label: 'Foo',
  },
};
nuxeo.directory('nature')
  .create(newEntry)
  .then(function(entry) {
    // entry.directoryName === 'nature'
    // entry.properties.id === 'foo'
  });</code></pre><p><strong>Delete a directory entry</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.directory('nature')
 .delete('foo')
 .then(function(res) {
   // res.status === 204
 });</code></pre><h2>Contributing</h2><p>See our <a href="https://doc.nuxeo.com/x/VIZH">contribution documentation</a>.</p>
<h3>Requirements</h3><ul>
<li><a href="http://nodejs.org/#download">Node.js</a></li>
<li><a href="http://gulpjs.com/">gulp</a></li>
<li><a href="http://bower.io/">Bower</a></li>
<li><a href="https://www.npmjs.com/">npm</a></li>
</ul>
<h3>Setup</h3><p>Install <a href="http://nodejs.org/#download">Node.js</a> and then use <code>npm</code> to install all the required<br>libraries:</p>
<pre class="prettyprint source"><code>$ git clone https://github.com/nuxeo/nuxeo-js-client
$ cd nuxeo-js-client
$ npm install</code></pre><h3>Test</h3><p>A Nuxeo Platform instance needs to be running on <code>http://localhost:8080/nuxeo</code> for the tests to be run.</p>
<p>Tests can be launched on Node.js with:</p>
<pre class="prettyprint source"><code>$ gulp test:node</code></pre><p>For testing the browser client (tests are run on Firefox and Chrome by default):</p>
<pre class="prettyprint source"><code>$ gulp test:browser</code></pre><p>To run both Node.js and browser tests:</p>
<pre class="prettyprint source"><code>$ gulp test</code></pre><h3>Reporting Issues</h3><p>You can follow the developments in the Nuxeo JS Client project of our JIRA bug tracker: <a href="https://jira.nuxeo.com/browse/NXJS">https://jira.nuxeo.com/browse/NXJS</a>.</p>
<p>You can report issues on <a href="http://answers.nuxeo.com">answers.nuxeo.com</a>.</p>
<h2>License</h2><p><a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache License 2.0</a> Copyright (c) Nuxeo SA</p>
<h2>About Nuxeo</h2><p>Nuxeo dramatically improves how content-based applications are built, managed and deployed, making customers more agile, innovative and successful. Nuxeo provides a next generation, enterprise ready platform for building traditional and cutting-edge content oriented applications. Combining a powerful application development environment with SaaS-based tools and a modular architecture, the Nuxeo Platform and Products provide clear business value to some of the most recognizable brands including Verizon, Electronic Arts, Sharp, FICO, the U.S. Navy, and Boeing. Nuxeo is headquartered in New York and Paris. More information is available at <a href="http://www.nuxeo.com/">www.nuxeo.com</a>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BatchBlob.html">BatchBlob</a></li><li><a href="BatchUpload.html">BatchUpload</a></li><li><a href="Blob.html">Blob</a></li><li><a href="Directory.html">Directory</a></li><li><a href="DirectoryEntry.html">DirectoryEntry</a></li><li><a href="Document.html">Document</a></li><li><a href="Group.html">Group</a></li><li><a href="Groups.html">Groups</a></li><li><a href="Nuxeo.html">Nuxeo</a></li><li><a href="Operation.html">Operation</a></li><li><a href="Repository.html">Repository</a></li><li><a href="Request.html">Request</a></li><li><a href="Task.html">Task</a></li><li><a href="User.html">User</a></li><li><a href="Users.html">Users</a></li><li><a href="Workflow.html">Workflow</a></li><li><a href="Workflows.html">Workflows</a></li></ul><h3>Mixins</h3><ul><li><a href="Base.html">Base</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Nov 29 2016 15:37:40 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>